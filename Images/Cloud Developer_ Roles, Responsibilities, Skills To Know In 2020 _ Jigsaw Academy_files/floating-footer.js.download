$(".footer-call-me-submit").click(()=>{if($("#footer-call-me").valid()){$(this).find("span").not(".form-submit-spinner").hide(),$(this).find(".form-submit-spinner").removeClass("hide");var e=new FormData($("#footer-call-me")[0]);e.append("jigkey",jigsawjs.jignonce);if(typeof MXCProspectId!=='undefined'&&MXCProspectId){e.append("MXCProspectId",MXCProspectId)}else{e.append("MXCProspectId","")}console.log(e);var thank_you_tab=window.open();jQuery.ajax({type:"POST",url:jigsawjs.ajaxurl,dataType:"json",data:e,processData:!1,contentType:!1,success:function(e){$("#footer-call-me").find("span").not(".form-submit-spinner").show(),$("#footer-call-me").find(".form-submit-spinner").addClass("hide"),console.log(e),$(".modal").modal("hide"),show_thank_page("footer-call-me",thank_you_tab)},error:function(e){alert("Oops! Some error occured. Please try by  reloading the page.")}})}}),$(".footer-askus-submit").click(()=>{if($("#footer-askus").valid()){$(this).find("span").not(".form-submit-spinner").hide(),$(this).find(".form-submit-spinner").removeClass("hide");var e=new FormData($("#footer-askus")[0]);e.append("jigkey",jigsawjs.jignonce);if(typeof MXCProspectId!=='undefined'&&MXCProspectId){e.append("MXCProspectId",MXCProspectId)}else{e.append("MXCProspectId","")}var thank_you_tab=window.open();jQuery.ajax({type:"POST",url:jigsawjs.ajaxurl,dataType:"json",data:e,processData:!1,contentType:!1,success:function(e){$("#footer-askus").find("span").not(".form-submit-spinner").show(),$("#footer-askus").find(".form-submit-spinner").addClass("hide"),$(".modal").modal("hide"),show_thank_page("footer-askus",thank_you_tab)},error:function(e){alert("Oops! Some error occured. Please try by reloading the page.")}})}});function show_thank_page(form_id,thank_you_tab){console.log('form_id:'+form_id);var thank_you_param='?form_id='+form_id;if($('#'+form_id+'>input[name="form_name"]').length){var is_first=(thank_you_param!='')?'&':'?';thank_you_param+=is_first+'form_name='+$('#'+form_id+'>input[name="form_name"]').val()}
if($('#'+form_id+'>input[name="form"]').length){var is_first=(thank_you_param!='')?'&':'?';thank_you_param+=is_first+'form='+$('#'+form_id+'>input[name="form"]').val()}
if($('#'+form_id+'>input[name="action"]').length){var is_first=(thank_you_param!='')?'&':'?';thank_you_param+=is_first+'action='+$('#'+form_id+'>input[name="action"]').val()}
if($('#'+form_id+'>input[name="embed_url"]').length){var is_first=(thank_you_param!='')?'&':'?';thank_you_param+=is_first+'embed_url='+$('#'+form_id+'>input[name="embed_url"]').val()}console.log($('#lnk_thank_you_page').attr('href')+thank_you_param);var thank_you_url=$('#lnk_thank_you_page').attr('href')+thank_you_param;thank_you_tab.location.href=thank_you_url}
$(document).on('click',".resource-submit-btn",function(){let f=$('#wp-resource-download-forms'),fl=$(f).data('file-download');if($(f).valid()){$('.resource-submit-btn').prop('disabled',!0);$('.resource-submit-btn').find("span").not(".form-submit-spinner").hide();$('.resource-submit-btn').find(".form-submit-spinner").removeClass("d-none");var formData=new FormData($(f)[0]);formData.append('action','jigsawforms');formData.append('jigkey',jigsawjs.jignonce);if(typeof MXCProspectId!=='undefined'&&MXCProspectId){formData.append("MXCProspectId",MXCProspectId)}
var thank_you_tab=window.open();jQuery.ajax({type:'POST',url:jigsawjs.ajaxurl,dataType:'json',data:formData,processData:!1,contentType:!1,success:function(data){if(fl!=''){downloadFile(fl)}
$('.resource-submit-btn').prop('disabled',!1);$('.resource-submit-btn').find("span").show();$('.resource-submit-btn').find(".form-submit-spinner").addClass("d-none");$(".modal").modal("hide");setCookie('form_submit_cookie',1,7);show_thank_page("wp-resource-download-forms",thank_you_tab)},error:function(data){alert("Oops! Some error occured. Please try by reloading the page.")}})}});$("#footer-askus #type_of_query").change(function(){"I want to know more about the courses"==$(this).val()?($("#footer-askus #course_interested_in").css("display",""),$("#footer-askus #course_interested_in").addClass("required")):($("#footer-askus #course_interested_in").css("display","none"),$("#footer-askus #course_interested_in").removeClass("required"))});$(document).ready(function(){function append_referer_url(){var referer_url=document.referrer||window.location.href;$("<input>",{type:"hidden",name:"referer_url",value:referer_url}).appendTo("form")}
append_referer_url()});$(document).ready(function(){$(".common-popup-btn").click(function(){var get_form_name=$(this).attr("data-formname");var get_form_title=$(this).attr("data-formtitle");var get_form_lead=$(this).attr("data-lead");if(get_form_name==''){alert('Form name is not getting');return}
jQuery('#common-popup .modal-body').html("");$('#common-popup').modal('toggle');$.ajax({url:'/wp-content/themes/jigsaw/templates/ajax-form-content.php',context:document.body,data:{get_form_name:get_form_name,get_form_lead:get_form_lead,action:'popup_load_content'},method:'post',}).done(function(response){if($.trim(response)!=''){$('#common-popup .modal-body').html(response);$('#common-popup .modal-title').html(get_form_title);$("<input>",{type:"hidden",name:"embed_url",value:embed_url}).appendTo("#common-popup .modal-body form");var referer_url=document.referrer||window.location.href;$("<input>",{type:"hidden",name:"referer_url",value:referer_url}).appendTo("#common-popup .modal-body form");ajax_after_load()}else{$('#common-popup .modal-body').html('No content found.')}})});function ajax_after_load(){$(".footer-form-submit-btn").click(function(){console.log($(this).closest("form").attr('id'));var form_id=$(this).closest("form").attr('id');if($("#"+form_id).valid()){$(this).find("span").not(".form-submit-spinner").hide(),$(this).find(".form-submit-spinner").removeClass("hide");var e=new FormData($("#"+form_id)[0]);e.append("jigkey",jigsawjs.jignonce);if(typeof MXCProspectId!=='undefined'&&MXCProspectId){e.append("MXCProspectId",MXCProspectId)}else{e.append("MXCProspectId","")}var thank_you_tab=window.open();jQuery.ajax({type:"POST",url:jigsawjs.ajaxurl,dataType:"json",data:e,processData:!1,contentType:!1,success:function(e){$("#"+form_id).find("span").not(".form-submit-spinner").show(),$("#"+form_id).find(".form-submit-spinner").addClass("hide"),$(".modal").modal("hide"),show_thank_page(form_id,thank_you_tab)},error:function(e){alert("Oops! Some error occured. Please try by reloading the page.")}})}})}})